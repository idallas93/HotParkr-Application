[{"C:\\Users\\keith\\Coding\\project-three-SKRIK\\client\\src\\index.js":"1","C:\\Users\\keith\\Coding\\project-three-SKRIK\\client\\src\\pages\\Home\\index.js":"2","C:\\Users\\keith\\Coding\\project-three-SKRIK\\client\\src\\App.js":"3","C:\\Users\\keith\\Coding\\project-three-SKRIK\\client\\src\\Components\\Header.js":"4"},{"size":621,"mtime":1607533719276,"results":"5","hashOfConfig":"6"},{"size":205,"mtime":1607539244231,"results":"7","hashOfConfig":"6"},{"size":1803,"mtime":1607540202864,"results":"8","hashOfConfig":"6"},{"size":789,"mtime":1607541267609,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"133hfg4",{"filePath":"12","messages":"13","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"14","messages":"15","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\keith\\Coding\\project-three-SKRIK\\client\\src\\index.js",[],"C:\\Users\\keith\\Coding\\project-three-SKRIK\\client\\src\\pages\\Home\\index.js",["19"],"C:\\Users\\keith\\Coding\\project-three-SKRIK\\client\\src\\App.js",["20","21"],"import React, { useEffect, useReducer } from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"\r\nimport './App.css';\r\nimport axios from \"axios\";\r\nimport { useGlobalContext } from \"./context/GlobalContext\";\r\nimport Header from \"./Components/Header\"\r\nimport Home from \"./pages/Home\"\r\nimport LoginForm from \"./Components/LoginForm\"\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useGlobalContext()\r\n\r\n  useEffect(()=>{\r\n    checkLogin();\r\n    if (state.apiToken) loadMessage();\r\n  }, [state.apiToken])\r\n\r\n  const checkLogin = () => {\r\n    // get the user from local storage\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    // is there a user?\r\n    if (user) {\r\n      // put that user in the state\r\n      dispatch({ \r\n        type: \"LOGIN\", \r\n        email: user.email, \r\n        apiToken: user.token\r\n      });\r\n    }\r\n  }\r\n\r\n  const loadMessage = () => {\r\n    axios.get(\"/api/welcome\", {\r\n      headers: {\r\n        Authorization: `Bearer ${state.apiToken}`\r\n      }\r\n    }).then(({ data }) => {\r\n      const { message } = data;\r\n      dispatch({ type: \"GET_MESSAGE\", message })\r\n    }).catch(err => {\r\n      console.log(err)\r\n    }) \r\n  }\r\n\r\n  const logout = () => {\r\n    // remove the user from local storage\r\n    localStorage.removeItem(\"user\");\r\n    // remove the user from the state\r\n    dispatch({ type: \"LOGOUT\" })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      { state.apiToken ? (\r\n          \r\n          <Router>\r\n          <Header state={state} logout={logout} />\r\n          <Route exact path=\"/\" component={Home} />\r\n          {/* <Route exact path=\"/\" component={} />\r\n          <Route exact path=\"/\" component={} />  */}\r\n          {/* <Footer /> */}\r\n\r\n        </Router>\r\n      ) : <LoginForm /> }\r\n    </div>\r\n        \r\n    \r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\keith\\Coding\\project-three-SKRIK\\client\\src\\Components\\Header.js",[],{"ruleId":"22","severity":1,"message":"23","line":2,"column":8,"nodeType":"24","messageId":"25","endLine":2,"endColumn":16},{"ruleId":"22","severity":1,"message":"26","line":1,"column":28,"nodeType":"24","messageId":"25","endLine":1,"endColumn":38},{"ruleId":"27","severity":1,"message":"28","line":16,"column":6,"nodeType":"29","endLine":16,"endColumn":22,"suggestions":"30"},"no-unused-vars","'ReactDOM' is defined but never used.","Identifier","unusedVar","'useReducer' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkLogin' and 'loadMessage'. Either include them or remove the dependency array.","ArrayExpression",["31"],{"desc":"32","fix":"33"},"Update the dependencies array to be: [checkLogin, loadMessage, state.apiToken]",{"range":"34","text":"35"},[508,524],"[checkLogin, loadMessage, state.apiToken]"]