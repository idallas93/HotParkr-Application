[{"/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/reportWebVitals.js":"1","/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/Components/LoginForm.js":"2","/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/pages/Home/index.js":"3","/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/context/GlobalContext.js":"4","/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/App.js":"5","/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/Components/Header.js":"6","/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/index.js":"7"},{"size":362,"mtime":1607533730357,"results":"8","hashOfConfig":"9"},{"size":1115,"mtime":1607533730355,"results":"10","hashOfConfig":"9"},{"size":192,"mtime":1607536479668,"results":"11","hashOfConfig":"9"},{"size":991,"mtime":1607533730356,"results":"12","hashOfConfig":"9"},{"size":1732,"mtime":1607537592753,"results":"13","hashOfConfig":"9"},{"size":761,"mtime":1607536958854,"results":"14","hashOfConfig":"9"},{"size":601,"mtime":1607533730356,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"15c913z",{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/reportWebVitals.js",[],"/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/Components/LoginForm.js",["33"],"import React, { useRef } from \"react\";\nimport axios from \"axios\";\nimport { useGlobalContext } from \"../context/GlobalContext\";\n\nconst LoginForm = () => {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const [_, dispatch] = useGlobalContext();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // get the info from the form\n    const creds = {\n      email: emailRef.current.value,\n      password: passwordRef.current.value\n    }\n    // do the login with the api\n    const { data } = await axios.post(\"/auth/login\", creds);\n    // put the email and token in the state\n    const { email, token } = data;\n    const apiToken = token;\n    console.log(apiToken);\n    dispatch({ \n      type: \"LOGIN\", \n      email, \n      apiToken: data.token });\n    localStorage.setItem(\"user\", JSON.stringify({ email, token }));\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" placeholder=\"email\" ref={emailRef} />\n      <input type=\"password\" placeholder=\"password\" ref={passwordRef} />\n      <button type=\"submit\">Login</button>\n    </form>\n  )\n}\n\nexport default LoginForm;","/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/pages/Home/index.js",["34"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\n\nfunction Home() {\n    return (\n        <main>\n            Home\n        </main>\n    )\n}\n\nexport default Home\n","/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/context/GlobalContext.js",[],"/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/App.js",["35","36"],"import React, { useEffect, useReducer } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"\nimport './App.css';\nimport axios from \"axios\";\nimport { useGlobalContext } from \"./context/GlobalContext\";\nimport Header from \"./Components/Header\"\nimport Home from \"./pages/Home\"\nimport LoginForm from \"./Components/LoginForm\"\n\nfunction App() {\n  const [state, dispatch] = useGlobalContext()\n\n  useEffect(()=>{\n    checkLogin();\n    if (state.apiToken) loadMessage();\n  }, [state.apiToken])\n\n  const checkLogin = () => {\n    // get the user from local storage\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    // is there a user?\n    if (user) {\n      // put that user in the state\n      dispatch({ \n        type: \"LOGIN\", \n        email: user.email, \n        apiToken: user.token\n      });\n    }\n  }\n\n  const loadMessage = () => {\n    axios.get(\"/api/welcome\", {\n      headers: {\n        Authorization: `Bearer ${state.apiToken}`\n      }\n    }).then(({ data }) => {\n      const { message } = data;\n      dispatch({ type: \"GET_MESSAGE\", message })\n    }).catch(err => {\n      console.log(err)\n    }) \n  }\n\n  const logout = () => {\n    // remove the user from local storage\n    localStorage.removeItem(\"user\");\n    // remove the user from the state\n    dispatch({ type: \"LOGOUT\" })\n  }\n\n  return (\n    <div>\n      { state.apiToken ? (\n          \n          <Router>\n          <Header state={state} logout={logout} />\n          <Route exact path=\"/\" component={Home} />\n          {/* <Route exact path=\"/\" component={} />\n          <Route exact path=\"/\" component={} />  */}\n          {/* <Footer /> */}\n\n        </Router>\n      ) : <LoginForm /> }\n    </div>\n        \n    \n  );\n}\n\nexport default App;\n","/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/Components/Header.js",[],"/Users/saharvacnich/Desktop/BOOTCAMP/PROJECT-3/project-three-SKRIK/client/src/index.js",[],{"ruleId":"37","severity":1,"message":"38","line":9,"column":10,"nodeType":"39","messageId":"40","endLine":9,"endColumn":11},{"ruleId":"37","severity":1,"message":"41","line":2,"column":8,"nodeType":"39","messageId":"40","endLine":2,"endColumn":16},{"ruleId":"37","severity":1,"message":"42","line":1,"column":28,"nodeType":"39","messageId":"40","endLine":1,"endColumn":38},{"ruleId":"43","severity":1,"message":"44","line":16,"column":6,"nodeType":"45","endLine":16,"endColumn":22,"suggestions":"46"},"no-unused-vars","'_' is assigned a value but never used.","Identifier","unusedVar","'ReactDOM' is defined but never used.","'useReducer' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkLogin' and 'loadMessage'. Either include them or remove the dependency array.","ArrayExpression",["47"],{"desc":"48","fix":"49"},"Update the dependencies array to be: [checkLogin, loadMessage, state.apiToken]",{"range":"50","text":"51"},[493,509],"[checkLogin, loadMessage, state.apiToken]"]